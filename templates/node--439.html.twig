{% set hoy = "now"|date("Y-m-d") %} {% set meses = { 'Jan': 'Ene', 'Feb': 'Feb',
'Mar': 'Mar', 'Apr': 'Abr', 'May': 'May', 'Jun': 'Jun', 'Jul': 'Jul', 'Aug':
'Ago', 'Sep': 'Sept', 'Oct': 'Oct', 'Nov': 'Nov', 'Dec': 'Dic' } %} {% set hoy =
"now"|date("Y-m-d") %} {% set pasados = [] %} {% set futuros = [] %} {% for item
in eventos %} {% set inicio =
item.fields.field_fecha_de_inicio.0.value|date("Y-m-d") %} {% set fin =
item.fields.field_fecha_de_finalizacion.0.value|date("Y-m-d") %} {% if fin < hoy
%} {% set pasados = pasados|merge([item]) %} {% elseif inicio >= hoy %} {% set
futuros = futuros|merge([item]) %} {% endif %} {% endfor %}
<div class="events__body">
  <main class="events-main">
    <section class="events__page" id="events">
      <div class="events__header">
        <h2>Eventos exitosos en Bogotá</h2>
        <p>¡Desliza y conoce más!</p>
      </div>
      <div class="events__filters">
          <button type="button" data-tid="all">Todos</button>
         {% for item in tipos_de_evento_mice %}
        <button type="button" data-tid="{{item.tid}}">{{ item.name }}</button>
        {% endfor %}
         {% for item in tipos_de_evento_mice %}
        <button type="button" data-tid="{{item.tid}}">{{ item.name }}</button>
        {% endfor %}

      </div>
      <div class="events__grid">
        {% for item in pasados|reverse %}
        {% set categorias = item.fields.field_categoria_de_evento %}
        {% set categorias_tids = categorias|map(v => v.tid)|join(',') %}

        <a
          href="{{ item.url }}"
          class="event-card"
           data-type="{{ categorias_tids }}"
          data-carousel-item
        >
          <div
            class="event-card__media"
            aria-hidden="true"
            style="background-image: url({{item.fields.field_mainimg.0.url}});"
          ></div>
          <div class="event-card__content">
            <span class="event-card__tag">{{
              item.fields.field_categoria_de_evento.name
            }}</span>
            <h3>{{ item.title }}</h3>
            <div class="event-card__meta">
              <span class="event-card__meta-item">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  aria-hidden="true"
                >
                  <path
                    d="M6.75 3a.75.75 0 0 0 0 1.5H7.5V6h-3A2.25 2.25 0 0 0 2.25 8.25v10.5A2.25 2.25 0 0 0 4.5 21h15a2.25 2.25 0 0 0 2.25-2.25V8.25A2.25 2.25 0 0 0 19.5 6h-3V4.5h.75a.75.75 0 0 0 0-1.5h-3a.75.75 0 0 0 0 1.5h.75V6h-6V4.5h.75a.75.75 0 0 0 0-1.5h-3Zm-1.5 6.75A.75.75 0 0 1 6 9h12a.75.75 0 0 1 .75.75v8.25c0 .414-.336.75-.75.75H6a.75.75 0 0 1-.75-.75Z"
                  />
                </svg>
                {% set meses = { 'Jan': 'Ene', 'Feb': 'Feb', 'Mar': 'Mar',
                'Apr': 'Abr', 'May': 'May', 'Jun': 'Jun', 'Jul': 'Jul', 'Aug':
                'Ago', 'Sep': 'Sept', 'Oct': 'Oct', 'Nov': 'Nov', 'Dec': 'Dic' }
                %} {% set raw_inicio = item.fields.field_fecha_de_inicio.0.value
                %} {% set raw_fin =
                item.fields.field_fecha_de_finalizacion.0.value %} {% set mes_en
                = raw_inicio|date('M') %} {% set mes_es = meses[mes_en] %} {%
                set dia_inicio = raw_inicio|date('j') %} {% set dia_fin =
                raw_fin|date('j') %}
                  {% set anio_inicio = raw_inicio|date('Y') %}

                <span>{{ mes_es }} {{ dia_inicio }} - {{ dia_fin }}  del {{anio_inicio}}</span>
              </span>
              <span class="event-card__meta-item">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="size-6"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"
                  />
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"
                  />
                </svg>
                <span>{{item.fields.field_lugar_del_evento.0.value}}</span>
              </span>
            </div>
          </div>
        </a>
        {% endfor %}
      </div>
    </section>
  </main>
</div>
