<main>
  <section class="detail" id="detail">
    <a href="/venues" class="filtres__results-title">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
        class="size-6">
        <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" />
      </svg>
      <h3>Venue</h3>
    </a>
    {% set total_galeria = node.field_picgallery|length %}

    <div class="detail__header">
      <div class="detail__content">
        <h2>{{ node.getTitle() }}</h2>
        {{ content.body }}
        <div class="detail-media__gallery" data-detail-gallery>
          <div class="gallery-viewer">
            {% if total_galeria > 1 %}
            <button class="gallery-viewer__control gallery-viewer__control--prev" type="button"
              aria-label="Ver foto anterior" data-gallery-prev>
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                stroke-linejoin="round">
                <path d="m15 6-6 6 6 6" />
              </svg>
            </button>
            {% endif %}
            {% if total_galeria > 0 %}
            <figure class="gallery-viewer__media" data-gallery-main>
              <img src="" alt="Vista exterior del domo" loading="lazy" data-gallery-image />
              <figcaption data-gallery-caption>

              </figcaption>
            </figure>
            {% endif %}
            {% if total_galeria > 1 %}
            <button class="gallery-viewer__control gallery-viewer__control--next" type="button"
              aria-label="Ver foto siguiente" data-gallery-next>
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                stroke-linejoin="round">
                <path d="m9 6 6 6-6 6" />
              </svg>
            </button>
            {% endif %}
          </div>
          <div class="gallery-data" style="display:none;">
            {% for image in node.field_picgallery %}
            <div data-gallery-item data-image="{{ file_url(image.entity.uri.value) }}" data-caption="{{ image.title }}"
              data-alt="{{ image.alt }}"></div>
            {% endfor %}
          </div>

        </div>
      </div>
      <div class="infomore">
        <div class="detail__info">
          <aside class="detail__info-card">
            <div class="detail__info-block">
              <p class="detail__info-label">Direcci&oacute;n</p>
              <p class="detail__info-data">{{node.field_direccion.0.value}}</p>
            </div>
            <div class="detail__info-block">
              <p class="detail__info-label">Contacto</p>
              <ul class="detail__contact-list">
                <li class="contact-item">
                  <span class="contact-item__icon" aria-hidden="true">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                      stroke="currentColor" class="size-6">
                      <path stroke-linecap="round" stroke-linejoin="round"
                        d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z" />
                    </svg>
                  </span>
                  <div class="contact-item__content">
                    <span class="contact-item__label">Tel&eacute;fono:</span>
                    <span class="contact-item__value">
                      <a href="tel:{{node.field_telefono.0.value}}">{{node.field_telefono.0.value}}</a></span>
                  </div>
                </li>
                <li class="contact-item">
                  <span class="contact-item__icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                      stroke-linejoin="round">
                      <path
                        d="M12 21s7.5-4.5 7.5-10.5A7.5 7.5 0 0 0 12 3a7.5 7.5 0 0 0-7.5 7.5C4.5 16.5 12 21 12 21Z" />
                      <circle cx="12" cy="10.5" r="2.5" />
                    </svg>
                  </span>
                  <div class="contact-item__content">
                    <span class="contact-item__label">Zona:</span>
                    <span class="contact-item__value">
                      {% for term in node.field_turzone %}
                      {{ term.entity.name.value }}
                      {% endfor %}
                    </span>
                  </div>
                </li>
                <li class="contact-item">
                  <span class="contact-item__icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                      stroke-linejoin="round">
                      <path
                        d="M4.5 6h15a1.5 1.5 0 0 1 1.5 1.5v9A1.5 1.5 0 0 1 19.5 18h-15A1.5 1.5 0 0 1 3 16.5v-9A1.5 1.5 0 0 1 4.5 6Z" />
                      <path d="m4.5 7.5 7.5 5.25L19.5 7.5" />
                    </svg>
                  </span>
                  <div class="contact-item__content">
                    <span class="contact-item__label">Correo:</span>
                    <a class="contact-item__value link" href="mailto:{{ node.field_correo.0.value }}">{{
                      node.field_correo.0.value }}</a>
                  </div>
                </li>
                <li class="contact-item">
                  <span class="contact-item__icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                      stroke-linejoin="round">
                      <circle cx="12" cy="12" r="8.5" />
                      <path d="M3.5 12h17M12 3.5s4 3.5 4 8.5-4 8.5-4 8.5m0-17s-4 3.5-4 8.5 4 8.5 4 8.5" />
                    </svg>
                  </span>
                  <div class="contact-item__content">
                    <span class="contact-item__label">P&aacute;gina web:</span>
                    <a class="contact-item__value link" href="{{node.field_weblink.0.uri}}" target="_blank"
                      rel="noopener noreferrer">{{node.field_weblink.0.uri}}</a>
                  </div>
                </li>
              </ul>
            </div>
            <div class="info-content__icons">
              <div class="info__social-icons">
                <h4>Redes sociales</h4>
                <div class="social-icons__links">
                  {% set redes = [
                  {'icon': 'linkedin', 'label': 'LinkedIn'},
                  {'icon': 'instagram', 'label': 'Instagram'},
                  {'icon': 'youtube', 'label': 'YouTube'},
                  {'icon': 'facebook', 'label': 'Facebook'}
                  ] %}

                  {% for r in redes %}
                  {% set idx = loop.index0 %}
                  {% if node.field_profilelink[idx] is defined and node.field_profilelink[idx].uri is not empty %}
                  <a href="{{ node.field_profilelink[idx].uri }}" target="_blank" rel="noopener noreferrer"
                    aria-label="{{ r.label }}">
                    <img src="/{{ directory }}/images/{{ r.icon }}.svg" alt="{{ r.label }}" />
                  </a>
                  {% endif %}
                  {% endfor %}

                </div>
              </div>
            </div>
            <a href="{{node.field_linkreservas.0.uri}}" target="_blank" rel="noopener noreferrer" class="detail__cta">
              <span class="detail__cta-icon" aria-hidden="true">
                <svg viewBox="0 0 14 14" fill="none">
                  <path d="M7 1v12M1 7h12" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
              </span>
              <span>M&aacute;s informaci&oacute;n</span>
            </a>
          </aside>
        </div>
        <aside class="detail-media__sidebar">
          <div class="media-card">
            <div class="media-card__header location">
              <h3>Ubicaci&oacute;n</h3>
              <button class="media-card__action" type="button" aria-label="Ver mapa ampliado" data-map-trigger>
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                  stroke="currentColor" class="size-6">
                  <path stroke-linecap="round" stroke-linejoin="round"
                    d="M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15" />
                </svg>
              </button>
            </div>
            <div class="media-card__body">
              <div class="media-card__map">
                {% if node.field_latlong is defined and node.field_latlong.0 is
                not empty and node.field_latlong.1 is not empty %} {% set lat =
                node.field_latlong.0.value %} {% set lng =
                node.field_latlong.1.value %}
                <iframe width="100%" height="350" style="border: 0" loading="lazy" allowfullscreen
                  referrerpolicy="no-referrer-when-downgrade" src="https://www.google.com/maps?q={{ lat }},{{
                  lng
                }}&z=15&output=embed">
                </iframe>
                {% endif %}
              </div>
            </div>
          </div>
          <!-- <div class="media-card media-card--audio">
          <div class="media-card__header">
            <div class="media-card__titles">
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M2 10V13M6 6V17M10 3V21M14 8V15M18 5V18M22 10V13"
                  stroke="black"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              <h3>Escucha ahora la reseña en audio</h3>
              <button
                class="media-card__action"
                type="button"
                aria-label="Abrir opciones"
              >
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <circle cx="5" cy="12" r="1.25" />
                  <circle cx="12" cy="12" r="1.25" />
                  <circle cx="19" cy="12" r="1.25" />
                </svg>
              </button>
            </div>
            <div class="media-card__content">
              <p>
                Torem ipsum dolor sit amet, consectetur adipiscing elit. Nunc
                vulputate libero et velit interdum, ac aliquet odio mattis.
              </p>
            </div>
          </div>
          <button class="media-audio__play" type="button">
            <span class="media-audio__icon" aria-hidden="true">
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <circle cx="12" cy="12" r="10" />
                <path d="M10 8.5v7l5-3.5-5-3.5Z" />
              </svg>
            </span>
            <span>Reproducir audio</span>
          </button>
        </div> -->
        </aside>
      </div>
    </div>
  </section>
  <section class="venues venues--media">
    <div class="venues__header filtros">
      <h2>Más proveedores</h2>
    </div>
    <div class="venues-carousel" data-carousel>
      <button class="venues-nav venues-nav--prev" type="button" data-carousel-prev aria-label="Aliado anterior">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
          <path
            d="M15.75 19.5a.75.75 0 0 1-1.28.53l-7.5-7.5a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L8.56 12l7.25 7.25c.14.14.22.33.22.53Z" />
        </svg>
      </button>
      <div class="venues-carousel__viewport" data-carousel-viewport>
        <div class="venues-carousel__track" data-carousel-track>
          {% for item in venues %}
          <article class="venue-card venue-card--media" data-carousel-item data-image="">
            <a href="{{ item.url }}">
              <div class="venue-card__media">
                <img src="{{item.fields.field_image.0.url}}" alt="{{ item.title }}" loading="lazy" />
              </div>
              <div class="venue-card__body">
                <p class="venue-card__name">{{ item.title }}</p>
              </div>
            </a>
          </article>
          {% endfor %}
        </div>
      </div>
      <button class="venues-nav venues-nav--next" type="button" data-carousel-next aria-label="Aliado siguiente">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
          <path
            d="M8.25 4.5a.75.75 0 0 1 1.28-.53l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L15.44 12 8.19 4.75A.75.75 0 0 1 8.25 4.5Z" />
        </svg>
      </button>
      <div class="carousel-indicators carousel-indicators--light" data-carousel-indicators></div>
    </div>
  </section>
</main>